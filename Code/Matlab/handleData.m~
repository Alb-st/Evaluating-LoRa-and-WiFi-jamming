clc
clear
format long

jammer = 0:0.1:2;

lora00 = readtable("loradata/lora00");
lora01 = readtable("loradata/lora01");
lora02 = readtable("loradata/lora02");
lora03 = readtable("loradata/lora03");
lora04 = readtable("loradata/lora04");
lora05 = readtable("loradata/lora05");
lora06 = readtable("loradata/lora06");
lora07 = readtable("loradata/lora07");
lora08 = readtable("loradata/lora08");
lora09 = readtable("loradata/lora09");
lora10 = readtable("loradata/lora10");
lora11 = readtable("loradata/lora11");
lora12 = readtable("loradata/lora12");
lora13 = readtable("loradata/lora13");
lora14 = readtable("loradata/lora14");
lora15 = readtable("loradata/lora15");
lora16 = readtable("loradata/lora16");
lora17 = readtable("loradata/lora17");
lora18 = readtable("loradata/lora18");
lora19 = readtable("loradata/lora19");
lora20 = readtable("loradata/lora20");

loraAvgRssi = zeros(1,21);
loraMaxRssi = zeros(1,21);
loraMinRssi = zeros(1,21);

loraAvgRssi(1) = mean(table2array(lora00(:,13)));
loraAvgRssi(2) = mean(table2array(lora01(:,13)));
loraAvgRssi(3) = mean(table2array(lora02(:,13)));
loraAvgRssi(4) = mean(table2array(lora03(:,13)));
loraAvgRssi(5) = mean(table2array(lora04(:,13)));
loraAvgRssi(6) = mean(table2array(lora05(:,13)));
loraAvgRssi(7) = mean(table2array(lora06(:,13)));
loraAvgRssi(8) = mean(table2array(lora07(:,13)));
loraAvgRssi(9) = mean(table2array(lora08(:,13)));
loraAvgRssi(10) = mean(table2array(lora09(:,13)));
loraAvgRssi(11) = mean(table2array(lora10(:,13)));
loraAvgRssi(12) = mean(table2array(lora11(:,13)));
loraAvgRssi(13) = mean(table2array(lora12(:,13)));
loraAvgRssi(14) = mean(table2array(lora13(:,13)));
loraAvgRssi(15) = mean(table2array(lora14(:,13)));
loraAvgRssi(16) = mean(table2array(lora15(:,13)));
loraAvgRssi(17) = mean(table2array(lora16(:,13)));
loraAvgRssi(18) = mean(table2array(lora17(:,13)));
loraAvgRssi(19) = mean(table2array(lora18(:,13)));
loraAvgRssi(20) = mean(table2array(lora19(:,13)));
loraAvgRssi(21) = mean(table2array(lora20(:,13)));

loraMaxRssi(1) = max(table2array(lora00(:,13)));
loraMaxRssi(2) = max(table2array(lora01(:,13)));
loraMaxRssi(3) = max(table2array(lora02(:,13)));
loraMaxRssi(4) = max(table2array(lora03(:,13)));
loraMaxRssi(5) = max(table2array(lora04(:,13)));
loraMaxRssi(6) = max(table2array(lora05(:,13)));
loraMaxRssi(7) = max(table2array(lora06(:,13)));
loraMaxRssi(8) = max(table2array(lora07(:,13)));
loraMaxRssi(9) = max(table2array(lora08(:,13)));
loraMaxRssi(10) = max(table2array(lora09(:,13)));
loraMaxRssi(11) = max(table2array(lora10(:,13)));
loraMaxRssi(12) = max(table2array(lora11(:,13)));
loraMaxRssi(13) = max(table2array(lora12(:,13)));
loraMaxRssi(14) = max(table2array(lora13(:,13)));
loraMaxRssi(15) = max(table2array(lora14(:,13)));
loraMaxRssi(16) = max(table2array(lora15(:,13)));
loraMaxRssi(17) = max(table2array(lora16(:,13)));
loraMaxRssi(18) = max(table2array(lora17(:,13)));
loraMaxRssi(19) = max(table2array(lora18(:,13)));
loraMaxRssi(20) = max(table2array(lora19(:,13)));
loraMaxRssi(21) = max(table2array(lora20(:,13)));

loraMinRssi(1) = min(table2array(lora00(:,13)));
loraMinRssi(2) = min(table2array(lora01(:,13)));
loraMinRssi(3) = min(table2array(lora02(:,13)));
loraMinRssi(4) = min(table2array(lora03(:,13)));
loraMinRssi(5) = min(table2array(lora04(:,13)));
loraMinRssi(6) = min(table2array(lora05(:,13)));
loraMinRssi(7) = min(table2array(lora06(:,13)));
loraMinRssi(8) = min(table2array(lora07(:,13)));
loraMinRssi(9) = min(table2array(lora08(:,13)));
loraMinRssi(10) = min(table2array(lora09(:,13)));
loraMinRssi(11) = min(table2array(lora10(:,13)));
loraMinRssi(12) = min(table2array(lora11(:,13)));
loraMinRssi(13) = min(table2array(lora12(:,13)));
loraMinRssi(14) = min(table2array(lora13(:,13)));
loraMinRssi(15) = min(table2array(lora14(:,13)));
loraMinRssi(16) = min(table2array(lora15(:,13)));
loraMinRssi(17) = min(table2array(lora16(:,13)));
loraMinRssi(18) = min(table2array(lora17(:,13)));
loraMinRssi(19) = min(table2array(lora18(:,13)));
loraMinRssi(20) = min(table2array(lora19(:,13)));
loraMinRssi(21) = min(table2array(lora20(:,13)));

%for i=1:21 %length(lora00, 1) %1 för första dimensionen (räknar rader)
%end

title("RSSI against Jamming strength of LoRa communication");
xlabel("RSSI")
ylabel("");
plot(jammer, loraAvgRssi, 'b')
hold on
plot(jammer, loraMaxRssi, 'r')
hold on
plot(jammer, loraMinRssi, 'g')
hold off
shg
